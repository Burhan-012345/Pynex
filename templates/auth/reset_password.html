{% extends "layout.html" %} {% block content %}
<div class="auth-container">
  <div class="auth-layout">
    <!-- Left Side - Image Section -->
    <div class="auth-left">
      <div class="auth-image">
        <img
          src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
          alt="Reset Password"
        />
        <link
          rel="stylesheet"
          href="{{ url_for('static', filename='css/auth.css') }}"
        />
        <div class="image-overlay">
          <div class="overlay-content">
            <h2>Secure Your Account</h2>
            <p>Create a strong new password to protect your financial data</p>
            <div class="features-list">
              <div class="feature-item">
                <i class="fas fa-lock"></i>
                <span>Bank-level Security</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-shield-alt"></i>
                <span>Encrypted Storage</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-key"></i>
                <span>Strong Password Protection</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Side - Form Section -->
    <div class="auth-right">
      <div class="auth-card">
        <div class="auth-header">
          <h1>Set New Password</h1>
          <p>Create your new password</p>
        </div>

        <form id="resetPasswordForm">
          <input type="hidden" name="email" value="{{ email }}" />

          <div class="form-group">
            <label for="new_password">New Password</label>
            <div class="password-input">
              <input
                type="password"
                class="form-control"
                id="new_password"
                name="new_password"
                required
              />
              <button type="button" class="toggle-password">
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="confirm_password">Confirm Password</label>
            <div class="password-input">
              <input
                type="password"
                class="form-control"
                id="confirm_password"
                name="confirm_password"
                required
              />
              <button type="button" class="toggle-password">
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </div>

          <button type="submit" class="btn btn-primary">Reset Password</button>
        </form>

        <div class="auth-links">
          <a href="{{ url_for('login_page') }}">Back to Login</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document
    .getElementById("resetPasswordForm")
    .addEventListener("submit", function (e) {
      const newPassword = document.getElementById("new_password").value;
      const confirmPassword = document.getElementById("confirm_password").value;

      if (newPassword !== confirmPassword) {
        e.preventDefault();
        alert("Passwords do not match!");
      }
    });
</script>
{% endblock %}
